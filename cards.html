<!doctype html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; base-uri 'self'; form-action 'self';"><meta name="referrer" content="no-referrer"><meta name="theme-color" content="#3498db"><link rel="manifest" href="manifest.json"><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com"><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><title>Lernkarten App</title><style>:root{--surface-color:#ffffff;--surface-secondary:#f8f9fa;--text-color:#333;--text-muted:#6c757d;--border-color:#dee2e6;--input-border:#ced4da;--input-bg:#ffffff;--shadow-color:rgba(0, 0, 0, 0.1)}[data-theme=dark]{--surface-color:#1e1e2e;--surface-secondary:#2a2a3c;--text-color:#e0e0e0;--text-muted:#a0a0b0;--border-color:#3a3a4c;--input-border:#4a4a5c;--input-bg:#2a2a3c;--shadow-color:rgba(0, 0, 0, 0.3)}html.theme-transition,html.theme-transition *,html.theme-transition ::after,html.theme-transition ::before{transition:background-color .3s ease,color .3s ease,border-color .3s ease,box-shadow .3s ease!important;transition-delay:0s!important}.theme-toggle{position:fixed;bottom:1rem;right:1rem;width:44px;height:44px;border-radius:50%;border:2px solid rgba(128,128,128,.3);background-color:rgba(255,255,255,.9);cursor:pointer;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 2px 8px rgba(0,0,0,.15);transition:background-color .3s,transform .2s;-webkit-tap-highlight-color:transparent;padding:0;line-height:1}.theme-toggle:hover{transform:scale(1.1)}.theme-toggle:active{transform:scale(.95)}[data-theme=dark] .theme-toggle{background-color:rgba(50,50,50,.9);border-color:rgba(128,128,128,.4)}</style><script>(()=>{var e,t="taskcards-theme",n="dark",o="light";function a(e){document.documentElement.setAttribute("data-theme",e),d(e);var t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",e===n?"#1e1e2e":"#3498db")}function d(e){var t=document.querySelector(".theme-toggle");t&&(t.textContent=e===n?"‚òÄÔ∏è":"üåô",t.setAttribute("aria-label",e===n?"Zum hellen Modus wechseln":"Zum dunklen Modus wechseln"))}function c(){var e=(document.documentElement.getAttribute("data-theme")||o)===n?o:n;document.documentElement.classList.add("theme-transition"),a(e),localStorage.setItem(t,e),setTimeout(function(){document.documentElement.classList.remove("theme-transition")},350)}function m(){var e=document.createElement("button");e.className="theme-toggle",e.type="button",e.addEventListener("click",c),document.body.appendChild(e),d(document.documentElement.getAttribute("data-theme")||o)}a((e=localStorage.getItem(t))===n||e===o?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?n:o),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){localStorage.getItem(t)||a(e.matches?n:o)}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()})()</script><script>function sanitizeHTML(t){var e;return"string"!=typeof t?"":((e=document.createElement("div")).textContent=t,e.innerHTML)}function sanitizeInput(t,e=1e3){if("string"!=typeof t)return"";let n=t.trim();return n=(n=n.length>e?n.substring(0,e):n).replace(/\0/g,"")}function sanitizePlayerName(t){if("string"!=typeof t)return"";let e=sanitizeInput(t,50);return e=e.replace(/[^a-zA-Z0-9√§√∂√º√Ñ√ñ√ú√ü\s\-_\.]/g,"")}function sanitizeRoomCode(t){return"string"!=typeof t?"":t.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,10)}function sanitizeQuestionText(t){return"string"!=typeof t?"":sanitizeInput(sanitizeHTML(t),5e3)}function sanitizeJSON(t,e=5242880){if("string"!=typeof t)return null;if(new Blob([t]).size>e)return console.error("JSON file too large"),null;try{return JSON.parse(t)}catch(t){return console.error("Invalid JSON:",t),null}}function sanitizeURL(t){if("string"==typeof t)try{var e=new URL(t);if("http:"===e.protocol||"https:"===e.protocol)return t}catch(t){}return""}function createSafeTextNode(t){return document.createTextNode(sanitizeInput(t))}function setSafeText(t,e){t&&"string"==typeof e&&(t.textContent=sanitizeInput(e))}function isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}</script><style>@keyframes flyInBottom{0%{transform:translateY(50px) rotateY(0);opacity:0}to{transform:translateY(0) rotateY(0);opacity:1}}@keyframes confetti-fall{0%{transform:translateY(0) translateX(0) rotateZ(0);opacity:1}70%{opacity:1}to{transform:translateY(60vh) translateX(var(--confetti-x,0)) rotateZ(var(--confetti-rotate,720deg));opacity:0}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}:root{--primary:#4a6fa5;--secondary:#166088;--light:#f8f9fa;--dark:#343a40;--success:#28a745;--danger:#dc3545;--warning:#ffc107;--cards-highlight-bg:#e9f2ff;--cards-highlight-border:#92b5e3;--cards-hover-bg:#f0f5ff;--success-bg:#d4edda;--danger-bg:#f8d7da;--warning-bg:#fff3cd;--disabled-bg:#ccc;--progress-track:#e9ecef;--explanation-bg:#e7f3ff;--explanation-hover-bg:#d0e9ff;--explanation-border:#2196F3;--explanation-border-light:#90CAF9;--explanation-text:#1565C0;--explanation-content-text:#0d47a1;--tooltip-bg:#1565C0;--btn-secondary-bg:#6c757d;--btn-secondary-hover:#5a6268;--sr-gradient-start:#4a6fa5;--sr-gradient-end:#166088;--sr-gradient-hover-start:#3d5d8c;--sr-gradient-hover-end:#124d6f;--sr-info-color:#17a2b8;--sr-info-hover:#138496}body{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:var(--dark);background-color:var(--surface-secondary);margin:0;padding:0;display:flex;flex-direction:column;min-height:100vh}.container{width:90%;max-width:900px;margin:1rem auto;flex:1}.header{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:0;padding:.75rem 1rem;background-color:var(--surface-color);border-radius:8px 8px 0 0;box-shadow:0 2px 4px var(--shadow-color)}.header-content{flex:2;text-align:center}.header h1{color:var(--primary);margin:.5rem 0 0;font-size:1.2rem}.header p{margin:.25rem 0;font-size:1rem}#file-input-container{margin-bottom:1rem;text-align:center}#upload-label{display:inline-block;padding:.5rem 1rem;background-color:var(--primary);color:#fff;border-radius:4px;cursor:pointer;transition:background-color .3s;margin-top:1rem}#upload-label:hover{background-color:var(--secondary)}#file-input{display:none}#saved-decks{margin:1rem 0;max-height:300px;overflow-y:auto}.saved-deck{background-color:var(--surface-color);padding:.5rem;margin-bottom:.5rem;border-radius:4px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 3px var(--shadow-color)}.deck-title{font-weight:500;color:var(--primary);cursor:pointer}.delete-deck{color:var(--danger);background:0 0;border:0;cursor:pointer;font-size:1.1rem;padding:.25rem .5rem}.card,.card-container{position:relative;min-height:350px}.card-container{perspective:1000px;margin-bottom:1rem;height:calc(100vh - 280px);overflow:hidden}.card{width:100%;height:100%;text-align:center;transition:transform .8s;transform-style:preserve-3d;will-change:transform}.card.flipped{transform:rotateY(180deg)}.card.fly-in-bottom{animation:flyInBottom .6s cubic-bezier(.34,1.56,.64,1) forwards;transition:none}.card-back,.card-front{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:8px;box-shadow:0 2px 4px var(--shadow-color);padding:1rem;box-sizing:border-box;background-color:var(--surface-color);display:flex;flex-direction:column;justify-content:space-between;top:0;left:0;transition:opacity .4s ease}.card-front{z-index:2;opacity:1;visibility:visible;pointer-events:auto}.card-back,.card.flipped .card-front{opacity:0;visibility:hidden;pointer-events:none}.card-back{transform:rotateY(180deg);z-index:1}.card.flipped .card-back{opacity:1;visibility:visible;pointer-events:auto;z-index:2}.card-content{flex:1;margin-bottom:.75rem;font-size:1.2rem;overflow-y:auto;max-height:100%}.question{font-weight:700;font-size:1.4rem;color:var(--primary);margin-bottom:.75rem}.answer{padding:.75rem;background-color:var(--light);border-left:4px solid var(--primary);margin-top:.5rem;text-align:left}.user-answer-input{width:90%;padding:.75rem;margin:1rem 0;border:1px solid var(--input-border);border-radius:4px;font-size:1rem;background-color:var(--input-bg);color:var(--text-color);transition:border-color .15s ease-in-out}.user-answer-input:focus{border-color:var(--primary);outline:0;box-shadow:0 0 0 .2rem rgba(74,111,165,.25)}.user-answer-display{padding:.75rem;margin-top:.5rem;background-color:var(--cards-highlight-bg);border-left:4px solid var(--cards-highlight-border);text-align:left;border-radius:4px}.options-container{display:flex;flex-direction:column;width:90%;margin:1rem auto;gap:.3rem}.option-item{padding:.3rem;border:2px solid var(--input-border);border-radius:6px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;text-align:left}.option-item:hover{border-color:var(--primary);background-color:var(--cards-hover-bg)}.option-item.selected{border-color:var(--primary);background-color:rgba(74,111,165,.1)}.option-item.correct{border-color:var(--success);background-color:rgba(40,167,69,.1)}.option-item.incorrect{border-color:var(--danger);background-color:rgba(220,53,69,.1)}.option-item.mc-correct-selected{background-color:var(--success-bg);border-color:var(--success);border-left-width:4px}.option-item.mc-correct-selected .option-checkbox{accent-color:var(--success)}.option-item.mc-incorrect-selected{background-color:var(--danger-bg);border-color:var(--danger);border-left-width:4px}.option-item.mc-incorrect-selected .option-checkbox{accent-color:var(--danger)}.option-item.mc-missed{background-color:var(--warning-bg);border-color:var(--warning);border-left-width:4px}.option-item.mc-missed .option-checkbox{accent-color:var(--warning)}.option-item.mc-neutral{background-color:var(--surface-secondary);border-color:var(--border-color);opacity:.7}.option-checkbox{margin-right:.75rem;width:18px;height:18px}.selected-options-display{padding:.75rem;margin-top:.5rem;background-color:var(--cards-highlight-bg);border-left:4px solid var(--cards-highlight-border);text-align:left;border-radius:4px}.controls{display:flex;justify-content:space-between;flex-wrap:wrap;gap:.5rem;width:100%}.btn{padding:.4rem .8rem;border:0;border-radius:4px;cursor:pointer;font-weight:500;transition:all .3s;flex:1;min-width:80px;font-size:1rem}.btn-primary{background-color:var(--primary);color:#fff}.btn-primary:hover{background-color:var(--secondary)}.btn-primary:disabled,.btn-primary[disabled]{background-color:var(--disabled-bg);color:var(--text-muted);cursor:not-allowed;opacity:.6}.btn-success{background-color:var(--success);color:#fff}.btn-success:hover{background-color:#218838}.btn-danger{background-color:var(--danger);color:#fff}.btn-danger:hover{background-color:#c82333}.btn-secondary{background-color:var(--btn-secondary-bg);color:#fff}.btn-secondary:hover{background-color:var(--btn-secondary-hover)}.stats{display:flex;justify-content:space-around;margin:0 0 .5rem;padding:0 0 .5rem;background-color:var(--surface-color);border-radius:0 0 8px 8px;box-shadow:0 2px 4px var(--shadow-color)}.stat-item{text-align:center}.stat-value{font-size:1.2rem;font-weight:700;color:var(--primary)}.stat-label{font-size:.9rem;color:var(--text-muted)}.progress-bar{height:6px;background-color:var(--progress-track);border-radius:4px;margin:.5rem 0;overflow:hidden}.progress{height:100%;background-color:var(--primary);width:0%;transition:width .3s ease}.feedback{font-size:1rem;text-align:center;margin-top:1rem;color:var(--text-muted)}.error-message{color:var(--danger);text-align:center;margin:1rem 0}.hidden{display:none}#sample-json{margin-top:1rem;padding:.75rem;background-color:var(--surface-secondary);border-radius:4px;border:1px solid var(--border-color);font-family:monospace;font-size:.9rem;text-align:left}#sample-json pre{margin:0;padding:0;white-space:pre;overflow-x:auto;text-align:left}#sample-json code{font-family:"Courier New",Courier,monospace;font-size:.9rem}.json-toggle{margin-top:.5rem;font-size:.9rem;color:var(--primary);cursor:pointer;text-decoration:underline}@media (max-width:600px){.container{width:95%;margin:.5rem auto}.controls{gap:.3rem}.btn{padding:.3rem .6rem;font-size:.9rem}.card,.card-container{min-height:330px}.stats{padding:.4rem .2rem}.stat-value{font-size:1.1rem}.stat-label{font-size:.9rem}}.study-mode-select{padding:.5rem .75rem;border:2px solid var(--input-border);border-radius:6px;font-size:.9rem;background-color:var(--input-bg);color:var(--text-color);cursor:pointer;transition:border-color .3s;min-width:200px}.study-mode-select:hover{border-color:var(--primary)}.study-mode-select:focus{outline:0;border-color:var(--primary);box-shadow:0 0 0 3px rgba(52,152,219,.1)}.deck-search-container{margin-bottom:1rem}.deck-search-input{width:100%;padding:.75rem;font-size:1rem;border:2px solid var(--input-border);background-color:var(--input-bg);color:var(--text-color);border-radius:6px;box-sizing:border-box;transition:border-color .3s}.deck-search-input:focus{outline:0;border-color:var(--primary)}#confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:9999}.confetti-piece{position:absolute;width:12px;height:12px;will-change:transform,opacity}@media (max-width:768px){.header{flex-direction:column;align-items:stretch;gap:.75rem;padding:.75rem}.header h1{font-size:1.1rem}.header p{font-size:.9rem}.study-mode-select{width:100%;min-width:unset}}#text-explanation-container{margin-top:1rem}.explanation-box{background-color:var(--explanation-bg);border:2px solid var(--explanation-border);border-radius:8px;padding:.75rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.explanation-box:hover{background-color:var(--explanation-hover-bg);border-color:#1976d2;transform:translateY(-1px);box-shadow:0 2px 8px rgba(33,150,243,.2)}.explanation-icon{font-size:1.5rem;flex-shrink:0;animation:pulse 2s infinite}.explanation-label{font-weight:600;color:var(--explanation-text);flex-grow:1}.explanation-content{width:100%;margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--explanation-border-light);color:var(--explanation-content-text);line-height:1.5;animation:slideDown .3s ease}.option-explanation-indicator{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;margin-left:.5rem;background-color:var(--explanation-border);color:#fff;border-radius:50%;cursor:pointer;font-size:.9rem;font-weight:700;transition:all .2s ease;position:relative}.option-explanation-indicator:hover{background-color:var(--explanation-text);transform:scale(1.15)}.option-explanation-indicator::before{content:"‚Ñπ"}.option-explanation-tooltip{display:none;position:fixed;padding:.75rem;background-color:var(--tooltip-bg);color:#fff;border-radius:6px;font-size:.9rem;line-height:1.4;white-space:normal;min-width:200px;max-width:min(300px,calc(100vw - 2rem));z-index:10000;box-shadow:0 4px 12px rgba(0,0,0,.3);animation:fadeIn .2s ease;pointer-events:auto}.option-explanation-tooltip[data-arrow=down]::after{content:"";position:absolute;top:100%;left:12px;border:6px solid transparent;border-top-color:var(--tooltip-bg)}.option-explanation-tooltip[data-arrow=up]::after{content:"";position:absolute;bottom:100%;left:12px;border:6px solid transparent;border-bottom-color:var(--tooltip-bg)}.option-item{position:relative}.sr-manager-btn{margin:0 0 0 .5rem;padding:.5rem .75rem;font-size:.9rem;white-space:nowrap;min-width:130px}.sr-manager-btn.active{background-color:var(--primary);color:#fff}#spaced-repetition-manager-container{background:var(--surface-color);padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px var(--shadow-color);margin-bottom:1rem}#spaced-repetition-manager-container h3{margin-top:0;color:var(--primary)}.sr-info{color:var(--text-muted);font-size:.95rem;margin-bottom:1rem}#sr-bucket-selection-controls{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1.5rem}#sr-buckets-display{display:flex;flex-direction:column;gap:1rem}.sr-bucket{background:var(--surface-secondary);border:2px solid var(--border-color);border-radius:8px;overflow:hidden}.sr-bucket.selected{border-color:var(--primary);box-shadow:0 0 0 2px rgba(74,111,165,.2)}.sr-bucket-header{padding:.75rem 1rem;background:linear-gradient(135deg,var(--sr-gradient-start) 0,var(--sr-gradient-end) 100%);color:#fff;display:flex;justify-content:space-between;align-items:center;cursor:pointer;user-select:none}.sr-bucket-header:hover{background:linear-gradient(135deg,var(--sr-gradient-hover-start) 0,var(--sr-gradient-hover-end) 100%)}.sr-bucket-info{display:flex;align-items:center;gap:1rem}.sr-bucket-title{font-weight:600;font-size:1.05rem}.sr-bucket-count{background:rgba(255,255,255,.2);padding:.25rem .75rem;border-radius:12px;font-size:.9rem}.sr-bucket-interval{font-size:.85rem;opacity:.9}.sr-bucket-checkbox{width:20px;height:20px;cursor:pointer}.sr-bucket-cards{max-height:0;overflow:hidden;transition:max-height .3s ease}.sr-bucket-cards.expanded{max-height:1000px}.sr-card-item{padding:.75rem 1rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;transition:background .2s}.sr-card-item:hover{background:var(--surface-secondary)}.sr-card-item:last-child{border-bottom:none}.sr-card-question{flex:1;font-weight:500;margin-right:1rem}#update-notification,.sr-card-meta{display:flex;align-items:center;gap:1rem}.sr-card-meta{font-size:.85rem;color:var(--text-muted)}.sr-card-next-review{white-space:nowrap}.sr-card-actions{display:flex;gap:.5rem}#update-notification button,.sr-card-actions button{border:0;border-radius:4px;cursor:pointer;transition:all .2s}.sr-card-actions button{padding:.25rem .5rem;font-size:.8rem}.sr-move-btn{background:var(--sr-info-color);color:#fff}.sr-move-btn:hover{background:var(--sr-info-hover)}.sr-delete-btn{background:#dc3545;color:#fff}.sr-delete-btn:hover{background:#c82333}.sr-empty-message{padding:2rem;text-align:center;color:var(--text-muted);font-style:italic}#update-notification{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--sr-gradient-start) 0,var(--sr-gradient-end) 100%);color:#fff;padding:.75rem 1.25rem;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.3);z-index:10000;animation:slideUp .3s ease}#update-notification span{font-weight:500}#update-notification button{background:var(--surface-color);color:var(--secondary);padding:.5rem 1rem;font-weight:600}#update-notification button:hover{background:var(--surface-secondary);transform:scale(1.02)}#update-notification button.dismiss{background:0 0;color:#fff;padding:.25rem .5rem;font-size:1.2rem;opacity:.8}#update-notification button.dismiss:hover{opacity:1;background:rgba(255,255,255,.1)}.sr-overdue{color:var(--danger)}.sr-on-time{color:var(--success)}:focus:not(:focus-visible){outline:0}#upload-label:focus-visible,.btn:focus-visible,:focus-visible{outline:3px solid var(--primary);outline-offset:2px}#upload-label:focus-visible,.btn:focus-visible{box-shadow:0 0 0 4px rgba(74,111,165,.3)}.btn-success:focus-visible{outline-color:var(--success);box-shadow:0 0 0 4px rgba(40,167,69,.3)}.btn-danger:focus-visible{outline-color:var(--danger);box-shadow:0 0 0 4px rgba(220,53,69,.3)}.option-item:focus-visible{outline:3px solid var(--primary);outline-offset:-1px;border-color:var(--primary);background-color:var(--cards-hover-bg)}.theme-toggle:focus-visible{outline:3px solid var(--primary);outline-offset:2px}.explanation-box:focus-visible{outline:3px solid var(--explanation-border);outline-offset:2px}.delete-deck:focus-visible{outline:2px solid var(--danger);outline-offset:2px}.json-toggle:focus-visible{outline:2px solid var(--primary);outline-offset:2px;border-radius:2px}.keyboard-hint kbd{display:inline-block;padding:.1rem .4rem;font-size:.8rem;background:var(--surface-secondary);border:1px solid var(--border-color);border-radius:3px;font-family:inherit;margin-right:.25rem}.keyboard-hints{position:fixed;bottom:calc(1rem + 44px + .75rem);right:1rem;z-index:100}.keyboard-hints-toggle{width:44px;height:44px;border-radius:50%;border:2px solid rgba(128,128,128,.3);background-color:rgba(255,255,255,.9);cursor:pointer;font-size:1.3rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,.15);transition:background-color .3s,transform .2s,opacity .2s;opacity:.6;color:var(--text-color);padding:0;line-height:1}.keyboard-hints-toggle:focus-visible,.keyboard-hints-toggle:hover{opacity:1;transform:scale(1.1)}[data-theme=dark] .keyboard-hints-toggle{background-color:rgba(50,50,50,.9);border-color:rgba(128,128,128,.4)}.keyboard-hints-panel{position:absolute;bottom:3.25rem;right:0;background:var(--surface-color);border:1px solid var(--border-color);border-radius:8px;padding:.75rem;box-shadow:0 4px 12px var(--shadow-color);min-width:240px;font-size:.85rem}.keyboard-hints-title{font-weight:600;margin-bottom:.5rem;color:var(--primary)}.keyboard-hint{padding:.2rem 0;color:var(--text-color)}[data-theme=dark]{--primary:#6b9fd4;--secondary:#4a8ab8;--light:#2a2a3c;--dark:#e0e0e0;--success:#4caf50;--danger:#ef5350;--warning:#ffca28;--cards-highlight-bg:rgba(107, 159, 212, 0.15);--cards-highlight-border:rgba(107, 159, 212, 0.5);--cards-hover-bg:rgba(107, 159, 212, 0.1);--success-bg:rgba(76, 175, 80, 0.2);--danger-bg:rgba(239, 83, 80, 0.2);--warning-bg:rgba(255, 202, 40, 0.2);--disabled-bg:#3a3a4c;--progress-track:#3a3a4c;--explanation-bg:rgba(107, 159, 212, 0.15);--explanation-hover-bg:rgba(107, 159, 212, 0.25);--explanation-border:#6b9fd4;--explanation-border-light:rgba(107, 159, 212, 0.3);--explanation-text:#8bbae8;--explanation-content-text:#a0c8f0;--tooltip-bg:#2a4a6b;--btn-secondary-bg:#5a5a6e;--btn-secondary-hover:#6a6a7e;--sr-gradient-start:#3a6a9e;--sr-gradient-end:#2a5a88;--sr-gradient-hover-start:#4a7aae;--sr-gradient-hover-end:#3a6a98;--sr-info-color:#20b2cc;--sr-info-hover:#18a2bc}[data-theme=dark] .btn-success:hover{background-color:#43a047}[data-theme=dark] .btn-danger:hover{background-color:#e53935}[data-theme=dark] .sr-delete-btn{background:var(--danger)}[data-theme=dark] .sr-delete-btn:hover{background:#e53935}[data-theme=dark] .btn:focus-visible{box-shadow:0 0 0 4px rgba(107,159,212,.3)}[data-theme=dark] .btn-success:focus-visible{box-shadow:0 0 0 4px rgba(76,175,80,.3)}[data-theme=dark] .btn-danger:focus-visible{box-shadow:0 0 0 4px rgba(239,83,80,.3)}</style></head><body><div class="container"><div class="header"><div class="header-content"><h1 id="app-title">Lernkarten App</h1><p id="app-subtitle">Lade eine JSON-Datei oder ein ZIP-Archiv hoch - oder w√§hle ein gespeichertes Deck</p></div><select id="study-mode" class="study-mode-select"><option value="spaced-repetition">Spaced Repetition</option><option value="incorrect-first">Falsche zuerst</option><option value="incorrect-only">Nur falsche wiederholen</option></select> <button id="open-sr-manager" class="btn btn-secondary sr-manager-btn" title="Spaced Repetition Karten verwalten / Decks anzeigen">üìä Karten verwalten</button></div><div id="file-input-container"><div class="upload-section"><div class="upload-options"><div class="upload-option"><label for="file-input" id="upload-label">JSON oder ZIP hochladen</label> <input type="file" id="file-input" accept=".json,.zip"></div></div><p><span class="json-toggle" onclick="toggleJsonSample()" tabindex="0" role="button" onkeydown='"Enter"!==event.key&&" "!==event.key||(event.preventDefault(),toggleJsonSample())'>JSON-Format Beispiel anzeigen</span></p></div><div id="sample-json" class="hidden"><pre><code>{
  "cards": [
    {
      "question": "Was ist die Hauptstadt von Deutschland?",
      "answer": "Berlin",
      "explanation": "Berlin ist seit 1990 die Hauptstadt. Zuvor war es Bonn."
    },
    {
      "question": "Was ist 2+2?",
      "answer": "4"
    },
    {
      "question": "Welche sind Primzahlen?",
      "options": ["2", "4", "7", "9", "11"],
      "correct": [0, 2, 4],
      "explanations": {
        "0": "2 ist die einzige gerade Primzahl.",
        "1": "4 = 2√ó2, also nicht prim.",
        "2": "7 ist nur durch 1 und 7 teilbar.",
        "3": "9 = 3√ó3, also nicht prim.",
        "4": "11 ist nur durch 1 und 11 teilbar."
      }
    }
  ]
}</code></pre></div><div id="saved-decks-container"><h3>Gespeicherte Decks</h3><div class="deck-search-container"><input id="deck-search" class="deck-search-input" placeholder="üîç Decks durchsuchen..."></div><div id="deck-selection-controls"><button id="start-selected-decks" class="btn btn-primary" disabled>Mit ausgew√§hlten Decks starten</button> <button id="select-all-decks" class="btn">Alle ausw√§hlen</button> <button id="deselect-all-decks" class="btn">Alle abw√§hlen</button></div><div id="saved-decks"></div></div><div id="spaced-repetition-manager-container" class="hidden"><h3>Spaced Repetition - Kartenverwaltung</h3><p class="sr-info">Karten sind nach Wiederholungsintervallen gruppiert. W√§hle Buckets aus oder verwalte einzelne Karten.</p><div id="sr-bucket-selection-controls"><button id="start-selected-buckets" class="btn btn-primary" disabled>Mit ausgew√§hlten Buckets √ºben</button> <button id="select-all-buckets" class="btn">Alle ausw√§hlen</button> <button id="deselect-all-buckets" class="btn">Alle abw√§hlen</button> <button id="cleanup-orphans-btn" class="btn btn-secondary" title="Entfernt SR-Daten f√ºr gel√∂schte Decks">üßπ Aufr√§umen</button></div><div id="sr-buckets-display"></div></div></div><div id="app-content" class="hidden"><div class="stats"><div class="stat-item"><div class="stat-value" id="cards-remaining">0</div><div class="stat-label">Verbleibend</div></div><div class="stat-item"><div class="stat-value" id="cards-completed">0</div><div class="stat-label">Bearbeitet</div></div><div class="stat-item"><div class="stat-value" id="correct-count">0</div><div class="stat-label">Richtig</div></div><div class="stat-item"><div class="stat-value" id="incorrect-count">0</div><div class="stat-label">Falsch</div></div></div><div class="progress-bar"><div class="progress" id="progress-bar"></div></div><div class="card-container" id="card-container"><div class="card" id="flip-card"><div class="card-front"><div class="card-content"><div class="question" id="question-text">Frage erscheint hier</div><input class="user-answer-input" id="user-answer-input" placeholder="Deine Antwort..."><div id="options-container" class="options-container hidden"></div></div><div class="controls"><button class="btn btn-primary" id="show-answer">Antwort zeigen</button></div></div><div class="card-back"><div class="card-content"><div class="question" id="question-back">Frage erscheint hier</div><div class="source-deck" id="source-deck-display"></div><div id="options-container-back" class="options-container hidden"></div><div id="user-answer-container" class="hidden"><div class="user-answer-display"><strong>Deine Antwort:</strong><div id="user-answer-display"></div></div></div><div id="selected-options-container" class="hidden"><div class="selected-options-display"><strong>Deine Auswahl:</strong><div id="selected-options-display"></div></div></div><div id="standard-answer-container"><div class="answer" id="answer-text">Antwort erscheint hier</div></div><div id="text-explanation-container" class="hidden"><div class="explanation-box" tabindex="0" role="button" aria-label="Erkl√§rung anzeigen"><span class="explanation-icon" title="Klicke f√ºr Erkl√§rung">‚ÑπÔ∏è</span> <span class="explanation-label">Erkl√§rung verf√ºgbar</span><div class="explanation-content hidden" id="text-explanation-content"></div></div></div><div id="mc-correct-answer-container" class="hidden"><div class="answer"><strong>Korrekte Antworten:</strong><div id="mc-correct-answer-text"></div></div></div></div><div class="controls"><button class="btn btn-success" id="mark-correct">Richtig</button> <button class="btn btn-danger" id="mark-incorrect">Falsch</button> <button class="btn btn-secondary" id="next-card">N√§chste</button></div></div></div></div><div id="keyboard-hints" class="keyboard-hints"><button class="keyboard-hints-toggle" aria-label="Tastaturk√ºrzel anzeigen" title="Tastaturk√ºrzel (?)"><span>&#x2328;</span></button><div class="keyboard-hints-panel hidden"><div class="keyboard-hints-title">Tastaturk√ºrzel</div><div class="keyboard-hint"><kbd>Leertaste</kbd> Antwort zeigen / Weiter</div><div class="keyboard-hint"><kbd>1</kbd>‚Äì<kbd>9</kbd> MC-Option w√§hlen / Erkl√§rung</div><div class="keyboard-hint"><kbd>R</kbd> Richtig</div><div class="keyboard-hint"><kbd>F</kbd> Falsch</div><div class="keyboard-hint"><kbd>E</kbd> Erkl√§rung ein/aus</div><div class="keyboard-hint"><kbd>?</kbd> Diese Hilfe</div></div></div><div class="feedback hidden" id="feedback"><h2>Quiz abgeschlossen!</h2><div id="overall-stats"><p>Gesamtergebnis: <span id="final-score">0%</span></p></div><div id="deck-stats-container"></div><div style="margin-top:1rem"><button class="btn btn-primary" id="restart-btn">Neu starten</button> <button class="btn btn-secondary" id="upload-new-btn">Neues Deck</button> <button class="btn btn-secondary" id="return-to-sr-btn" style="display:none">Zur√ºck zur SR-Verwaltung</button></div></div><div id="error-message" class="error-message hidden"></div></div></div><div id="confetti-container"></div><script defer src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script><script defer src="cards.js"></script><script>"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("ServiceWorker registered:",e.scope)}).catch(e=>{console.log("ServiceWorker registration failed:",e)})})</script></body></html>